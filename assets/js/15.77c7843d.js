(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{230:function(t,e,s){"use strict";var i=s(3),r=s(13),n=s(14),o=s(75),a=s(73),c=s(5),h=s(96).f,u=s(97).f,l=s(8).f,p=s(98).trim,d=i.Number,f=d,g=d.prototype,m="Number"==n(s(74)(g)),v="trim"in String.prototype,w=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var s,i,r,n=(e=v?e.trim():p(e,3)).charCodeAt(0);if(43===n||45===n){if(88===(s=e.charCodeAt(2))||120===s)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,c=e.slice(2),h=0,u=c.length;h<u;h++)if((o=c.charCodeAt(h))<48||o>r)return NaN;return parseInt(c,i)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof d&&(m?c(function(){g.valueOf.call(s)}):"Number"!=n(s))?o(new f(w(e)),s,d):w(e)};for(var y,x=s(7)?h(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;x.length>E;E++)r(f,y=x[E])&&!r(d,y)&&l(d,y,u(f,y));d.prototype=g,g.constructor=d,s(10)(i,"Number",d)}},250:function(t,e,s){},323:function(t,e,s){"use strict";var i=s(250);s.n(i).a},391:function(t,e,s){"use strict";s.r(e);s(230),s(16),s(26),s(53),s(24);var i={name:"LeeGesturePassword",inheritAttrs:!1,data:function(){return{nx:0,ny:0,thetype:"",left:0,top:0,isDown:!1,pos:[],tempass:[],ctx:null,cw:0,sh:0,dotw:0}},watch:{type:{immediate:!0,handler:function(t){["square","circle","leaf"].filter(function(e){return e.indexOf(t)>-1}).length<1?this.thetype="circle":this.thetype=t}}},mounted:function(){var t=this,e=document.getElementById("path");this.ctx=e.getContext("2d");var s=this.$refs.dot;this.dotw=s[0].offsetWidth;var i=this.$refs.gesture,r=i.offsetWidth,n=i.offsetHeight;this.cw=r,this.sh=n,e.width=r,e.height=n,document.createElement("div").className="tips",this.isDown=!1,s.forEach(function(e,s){t.pos.push({xh:s+1,x:e.offsetLeft,y:e.offsetTop})});var o=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.scrollLeft||document.body.scrollLeft;this.left=i.getBoundingClientRect().left+a,this.top=i.getBoundingClientRect().top+o,this.chuli(),window.addEventListener("resize",function(e){t.left=i.getBoundingClientRect().left+a,t.top=i.getBoundingClientRect().top+o,t.chuli()})},methods:{chuli:function(){var t=this,e=this.$refs.gesture;e&&(e.addEventListener("mousedown",function(){event.preventDefault(),t.isDown=!0,t.markDot(event.pageX,event.pageY),t.drawPath(event.pageX,event.pageY)}),e.addEventListener("mousemove",function(){event.preventDefault(),t.isDown&&(t.markDot(event.pageX,event.pageY),t.drawPath(event.pageX,event.pageY))}),e.addEventListener("mouseup",function(){t.check()}),e.addEventListener("mouseleave",function(){t.isDown&&t.check()}),e.addEventListener("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t.isDown=!0,t.markDot(e.targetTouches[0].pageX,e.targetTouches[0].pageY),t.drawPath(e.targetTouches[0].pageX,e.targetTouches[0].pageY)}),e.addEventListener("touchmove",function(e){e.preventDefault(),e.stopPropagation(),t.isDown&&(t.markDot(e.targetTouches[0].pageX,e.targetTouches[0].pageY),t.drawPath(e.targetTouches[0].pageX,e.targetTouches[0].pageY))}),e.addEventListener("touchend",function(e){e.stopPropagation(),t.check()}))},check:function(){var t=this,e=this.$refs.dot,s=this.$refs.gesture,i=document.createElement("div");i.className="tips",this.isDown=!1;var r="";JSON.stringify(this.password)!=JSON.stringify(this.tempass)?(s.classList.add("error"),i.innerText="密码错误",r="err",this.drawErr()):(s.classList.remove("error"),i.innerText="验证成功",r="success"),this.$emit("check",r),this.tempass=[],s.appendChild(i),setTimeout(function(){return i.style.opacity=1},1),setTimeout(function(){i.style.opacity=0,setTimeout(function(){return i.remove()},500),t.ctx.clearRect(0,0,t.cw,t.sh),e.forEach(function(t){t.children[0].style.cssText=""}),s.classList.remove("error")},1500)},markDot:function(t,e){var s=this,i=t-this.left,r=e-this.top;this.nx=i,this.ny=r;var n=this.pos.filter(function(t){return i-t.x<=s.dotw&&i-t.x>=0&&r-t.y<=s.dotw&&r-t.y>=0}),o=this.$refs.dot;n.length>0&&(o[n[0].xh-1].querySelector("i").style.opacity="1",this.tempass.indexOf(n[0].xh)<0&&this.tempass.push(n[0].xh))},drawPath:function(t,e){this.ctx.clearRect(0,0,this.cw,this.sh);var s=t-this.left,i=e-this.top;this.ctx.lineWidth=this.pathwidth,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.strokeStyle=this.successcolor,this.ctx.beginPath();for(var r=0;r<this.tempass.length;r++)this.ctx.lineTo(this.pos[this.tempass[r]-1].x+this.dotw/2,this.pos[this.tempass[r]-1].y+this.dotw/2);this.tempass.length>0&&this.ctx.lineTo(s,i),this.ctx.stroke(),this.ctx.closePath()},drawErr:function(){this.ctx.clearRect(0,0,this.cw,this.sh),this.ctx.strokeStyle=this.errorcolor,this.ctx.beginPath();for(var t=0;t<this.tempass.length;t++)this.ctx.lineTo(this.pos[this.tempass[t]-1].x+this.dotw/2,this.pos[this.tempass[t]-1].y+this.dotw/2);this.ctx.stroke(),this.ctx.closePath()}},props:{type:{type:String,default:"circle"},width:{type:Number,default:350},height:{type:Number,default:350},password:{type:Array,default:function(){return[]}},successcolor:{type:String,default:"#67c23a"},errorcolor:{type:String,default:"#f56c6c"},pathwidth:{type:Number,default:8}}},r=(s(323),s(0)),n=Object(r.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"gesture",class:["lee-gesture-password",t.thetype],style:{width:t.width+"px",height:t.height+"px","--successcolor":t.successcolor,"--errorcolor":t.errorcolor}},[s("div",{staticStyle:{position:"absolute",top:"-20px",left:"50%"}},[t._v(t._s(t.nx)+"/"+t._s(t.ny))]),t._v(" "),t._l(9,function(t){return s("div",{key:t,staticClass:"grid"},[s("div",{ref:"dot",refInFor:!0,staticClass:"dot"},[s("i")])])}),t._v(" "),s("canvas",{attrs:{id:"path"}})],2)},[],!1,null,null,null);e.default=n.exports}}]);