(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{305:function(t,e,i){},392:function(t,e,i){"use strict";i(305)},499:function(t,e,i){"use strict";i.r(e);var o={name:"LeeScratch",inheritAttrs:!1,data:()=>({down:!1,ctxprizes:null,ctx:null,oldX:0,oldY:0,offsetX:0,offsetY:0}),mounted(){this.createPrizes(),this.fillRect(),this.chuli(),window.addEventListener("resize",()=>{this.chuli()})},methods:{createPrizes(){let t=Math.round(Math.random()*(this.prizes.length-1)),e=this.prizes[t],i=this.$refs.canvasprizes.getContext("2d");this.ctxprizes=i,i.save(),i.font=this.textSize+"px Arial",i.fillStyle=this.textColor,i.textBaseline="middle",i.textAlign="center";let o=e.text;i.fillText(o,this.width/2,this.height/2),i.restore()},fillRect(){let t=this.$refs.canvas.getContext("2d");if(this.ctx=t,t.save(),this.stripe){let e=t.createLinearGradient(0,0,this.width,this.height);for(let t=0;t<1;t+=.01){let i=Number(t.toFixed(2));e.addColorStop(i,this.background),.01===Number((i%.02).toFixed(2))&&e.addColorStop(i,"#fff")}t.fillStyle=e}else t.fillStyle=this.background;t.fillRect(0,0,this.width,this.height),t.restore()},chuli(){let t=this.$refs.scratch;if(t){let e=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft;this.offsetX=t.getBoundingClientRect().left+i,this.offsetY=t.getBoundingClientRect().top+e}},mousedown(t){this.oldX=t.pageX-this.offsetX,this.oldY=t.pageY-this.offsetY,this.ctx.moveTo(this.oldX,this.oldY),this.down=!0},mousemove(t){this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.strokeStyle="#000",this.ctx.lineWidth=this.size,this.down&&(this.ctx.globalCompositeOperation="destination-out",this.ctx.lineTo(t.pageX-this.offsetX,t.pageY-this.offsetY),this.ctx.stroke())},touchstart(t){this.oldX=t.targetTouches[0].pageX-this.offsetX,this.oldY=t.targetTouches[0].pageY-this.offsetY,this.ctx.moveTo(this.oldX,this.oldY),this.down=!0},touchmove(t){this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.strokeStyle="#000",this.ctx.lineWidth=this.size,this.down&&(this.ctx.globalCompositeOperation="destination-out",this.ctx.lineTo(t.targetTouches[0].pageX-this.offsetX,t.targetTouches[0].pageY-this.offsetY),this.ctx.stroke())}},props:{stripe:{type:Boolean,default:!1},width:{type:Number,default:260},height:{type:Number,default:112},size:{type:Number,default:20},textSize:{type:Number,default:30},background:{type:String,default:"#eee"},textColor:{type:String,default:"#f20"},prizes:{type:Array,default:()=>[]}}},s=(i(392),i(10)),n=Object(s.a)(o,(function(){var t=this,e=t._self._c;return e("div",{ref:"scratch",staticClass:"lee-scratch"},[e("canvas",{ref:"canvasprizes",attrs:{width:t.width,height:t.height}}),t._v(" "),e("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:t.width,height:t.height},on:{mousedown:function(e){return e.stopPropagation(),t.mousedown.apply(null,arguments)},mousemove:function(e){return e.stopPropagation(),t.mousemove.apply(null,arguments)},mouseup:function(e){e.stopPropagation(),t.down=!1},mouseleave:function(e){t.down=!1},touchstart:function(e){return e.stopPropagation(),t.touchstart.apply(null,arguments)},touchmove:function(e){return e.stopPropagation(),t.touchmove.apply(null,arguments)},touchend:function(e){e.stopPropagation(),t.down=!1}}})])}),[],!1,null,null,null);e.default=n.exports}}]);